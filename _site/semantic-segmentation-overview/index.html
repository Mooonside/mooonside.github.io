<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Semantic Segmentation Overview - Yifeng's Blog</title>

  <!-- Edit site and author settings in `_config.yml` to make the social details your own -->

    <meta content="Yifeng's Blog" property="og:site_name">
  
    <meta content="Semantic Segmentation Overview" property="og:title">
  
  
    <meta content="article" property="og:type">
  
  
    <meta content="an overview of semantic segmentation" property="og:description">
  
  
    <meta content="http://localhost:4000/semantic-segmentation-overview/" property="og:url">
  
  
    <meta content="2019-03-19T00:00:00+08:00" property="article:published_time">
    <meta content="http://localhost:4000/about/" property="article:author">
  
  
    <meta content="http://localhost:4000/assets/img/sseg.png" property="og:image">
  
  
    
  
  
    
  

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@">
    <meta name="twitter:creator" content="@moonsideOvO">
  
    <meta name="twitter:title" content="Semantic Segmentation Overview">
  
  
    <meta name="twitter:url" content="http://localhost:4000/semantic-segmentation-overview/">
  
  
    <meta name="twitter:description" content="an overview of semantic segmentation">
  
  
    <meta name="twitter:image:src" content="http://localhost:4000/assets/img/sseg.png">
  

	<meta name="description" content="an overview of semantic segmentation">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta property="og:image" content="">
	<link rel="shortcut icon" href="/assets/img/favicon/favicon.ico" type="image/x-icon">
	<link rel="apple-touch-icon" href="/assets/img/favicon/apple-touch-icon.png">
	<link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicon/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicon/apple-touch-icon-144x144.png">
	<!-- Chrome, Firefox OS and Opera -->
	<meta name="theme-color" content="#263959">
	<!-- Windows Phone -->
	<meta name="msapplication-navbutton-color" content="#263959">
	<!-- iOS Safari -->
	<meta name="apple-mobile-web-app-status-bar-style" content="#263959">
	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css?family=PT+Serif:400,700" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet">
	<!-- Font Awesome -->
	<link rel="stylesheet" href="/assets/fonts/font-awesome/css/font-awesome.min.css">
	<!-- Styles -->
	<link rel="stylesheet" href="/assets/css/main.css">
</head>

<body>

  <div class="wrapper">
    <aside class="sidebar">
  <header>
    <div class="about">
      <div class="cover-author-image">
        <a href="/"><img src="/assets/img/icon.jpg" alt="Yifeng Chen"></a>
      </div>
      <div class="author-name">Yifeng Chen</div>
      <p>Stay Hungry Stay Foolish</p>
    </div>
  </header> <!-- End Header -->
  <footer>
    <section class="contact">
      <h3 class="contact-title">Contact me</h3>
      <ul>
        
          <li><a href="https://twitter.com/moonsideOvO" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
        
<!--        -->
<!--          <li><a href="https://facebook.com/" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>-->
<!--        -->
        
          <li class="github"><a href="http://github.com/Mooonside" target="_blank"><i class="fa fa-github"></i></a></li>
        
        
          <li class="linkedin"><a href="https://in.linkedin.com/in//%E6%80%A1%E5%B3%B0-%E9%99%88-a68a53101" target="_blank"><i class="fa fa-linkedin"></i></a></li>
        
        
          <li class="email"><a href="mailto:yifengchen@zju.edu.cn"><i class="fa fa-envelope-o"></i></a></li>
        
      </ul>
    </section> <!-- End Section Contact -->
    <div class="copyright">
      <p>2019 &copy; Yifeng Chen</p>
    </div>
  </footer> <!-- End Footer -->
</aside> <!-- End Sidebar -->
<div class="content-box clearfix">
  <article class="article-page">
  <div class="page-content">
    
    <div class="page-cover-image">
      <figure>
        <img class="page-image" src=/assets/img/sseg.png alt="Semantic Segmentation Overview">
        
      </figure>
    </div> <!-- End Page Cover Image -->
    
    <div class="wrap-content">
      <header class="header-page">
        <h1 class="page-title">Semantic Segmentation Overview</h1>
        <div class="page-date"><span>2019, Mar 19&nbsp;&nbsp;&nbsp;&nbsp;</span></div>
      </header>
      <p># Semantic Segmentation Overview</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">结构</th>
      <th style="text-align: center">名字</th>
      <th style="text-align: center">Pascal VOC 2012</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">Encoder-Decoder</td>
      <td style="text-align: center">FCN</td>
      <td style="text-align: center">67.2</td>
    </tr>
    <tr>
      <td style="text-align: center">Encoder-Decoder</td>
      <td style="text-align: center">SegNet</td>
      <td style="text-align: center">59.9</td>
    </tr>
    <tr>
      <td style="text-align: center">Encoder-Decoder</td>
      <td style="text-align: center">RefineNet</td>
      <td style="text-align: center">82.4 MS+CRF+CocoTrn</td>
    </tr>
    <tr>
      <td style="text-align: center">Dilated Conv</td>
      <td style="text-align: center">DilatedNet</td>
      <td style="text-align: center">73.9 RNN+CocoTrn</td>
    </tr>
    <tr>
      <td style="text-align: center">Dilated Conv</td>
      <td style="text-align: center">PSPNet</td>
      <td style="text-align: center">85.4 MS+CoCoPre</td>
    </tr>
    <tr>
      <td style="text-align: center">Encoder-Decoder</td>
      <td style="text-align: center">Large Kernel</td>
      <td style="text-align: center">82.2 MS+CRF+CoCoPre</td>
    </tr>
    <tr>
      <td style="text-align: center">Dilated Conv</td>
      <td style="text-align: center">DeepLab-V2</td>
      <td style="text-align: center">79.7 MS+CRF+CoCoPre</td>
    </tr>
    <tr>
      <td style="text-align: center">Dilated Conv</td>
      <td style="text-align: center">DeepLab-V3</td>
      <td style="text-align: center">86.9 MS+CoCoPre+JFT</td>
    </tr>
    <tr>
      <td style="text-align: center">Dilated Conv + Encoder-Decoder</td>
      <td style="text-align: center">DeepLab-V3+</td>
      <td style="text-align: center">89.0 MS+CoCoPre+JFT</td>
    </tr>
  </tbody>
</table>

<h2 id="fcn-全卷积神经网络">FCN 全卷积神经网络</h2>
<p><img src="../assets/img/sseg_overview/FCN_upsample.jpg" alt="@模型结构" /></p>
<h3 id="主要特点">主要特点</h3>
<ul>
  <li>引入卷积代替全连接，生成热点图</li>
  <li>Encoder-Decoder 结构</li>
  <li>对各层feature map 双线性插值上采样， 用skip connection连接至后层trans_conv后的feature map</li>
</ul>

<h3 id="存在的问题">存在的问题</h3>
<ul>
  <li>对于尺寸小于192的照片， 直接暴力在两侧添加100个像素， 存在问题。</li>
  <li>作者在实验中提到，无论定死/学习trans_conv kernels，性能无明显变化</li>
</ul>

<h2 id="segnet">SegNet</h2>
<p><img src="../assets/img/sseg_overview/SegNet_upsample.jpg" alt="@upsample" /></p>
<h3 id="主要特点-1">主要特点</h3>
<ul>
  <li>在FCN的基础上，取消直接add的skip connection，而是记录pool时的具体indices, 按照对应位置上采样为稀疏feature_map，再对此map作正常卷积.</li>
  <li>在使用上述策略的情况下，再加上FCN的skip connection会更好（+1%）</li>
</ul>

<h2 id="refinenet">RefineNet</h2>
<p><img src="../assets/img/sseg_overview/RefineNet1.png" alt="@RefineNet1" />
<img src="../assets/img/sseg_overview/RefineNet2.png" alt="@RefineNet2" /></p>
<h3 id="主要特点-2">主要特点</h3>
<ul>
  <li>encoder-decoder 结构, 提供一种向上fusion的思路</li>
  <li>全部使用参差连接的思想</li>
</ul>

<h2 id="multi-scale-context-aggregation-by-dilated-convolutions">Multi-Scale Context Aggregation by Dilated Convolutions</h2>
<p><img src="../assets/img/sseg_overview/dilated_conv.jpg" alt="@dilated conv" /></p>
<h3 id="主要特点-3">主要特点</h3>
<ul>
  <li>frontend module: 将传统VGG的后两层换为带孔卷积</li>
  <li>带孔卷积可以任意调整感受野的增加速率， 同时也保持spatial resolution不变 （stride=[1,1], kernel相同的常规卷积，尽管其也具有保持resolution的性质， 但是其感受野增长速率受限（R += k-1 * j’, j = j’），达到同样效果需要多层堆叠！）</li>
  <li>contextend module： 将frontend module的输出换为输入， 用级联的不同孔大小的带孔卷积来聚合多尺度特征(+2%)</li>
</ul>

<h3 id="注意之处">注意之处</h3>
<p>frontend-module从第三个pool之后，才替换为带孔卷积，因此最终输出认为 1/8 大小的segmentation map, 需要插值来获得最终的分割结果。</p>

<h2 id="pspnet">PSPNet</h2>
<p><img src="../assets/img/sseg_overview/pspnet.png" alt="@psp" /></p>

<p>对dilated-FCN作error-analysis, 发现其error有不匹配的目标对(e.g.车在水上)、容易混淆的类、小尺寸目标等.
有些错误源自于缺乏contextual information，遂采用此feature pyramid之招数</p>
<h3 id="主要特点-4">主要特点</h3>
<ul>
  <li>第一阶段是resnet-50 + 带孔卷积得到 1/ 8 size的feature map</li>
  <li>用如图的pool策略， 取得不同VALID RF的背景表达， 对这些表达作卷积，压缩channel至 1/N, 再上采样以concat</li>
  <li>采用auxiliary loss, 对res4b_22（i.e. 图中a的输出）的feature map上叠加一个分类器作输出</li>
  <li>不需要CRF作后处理！</li>
</ul>

<h3 id="存在问题">存在问题</h3>
<p>【待考证】无法复现至类似精度</p>
<h2 id="large-kernel-matters">Large Kernel Matters</h2>
<p><img src="../assets/img/sseg_overview/largek.png" alt="@largek" /></p>
<h3 id="主要特点-5">主要特点</h3>
<ul>
  <li>提出了分类&amp;定位为矛盾任务的思想， 认为小Valid RF的分类问题是困难的，需要更大的RF和更加稠密的连接（【待考证】对transformation更robust）。故而用更大的kernel来增加valid RF和连接。</li>
  <li>做了实验发现模型在object内部准确率高(94%)， 在边界附近准确率低(71.3%)【启发性】, 大kernel可以将内部准确率提高1%， 边界维持不变。将边界定位问题认为是一个参差结构（BR模块）可以+2%的边界准确率 【启示：边缘attention？】</li>
  <li>考虑计算效率，将大kernel [k,k], 分解为 [1，k] [k,1] 和 [k,1], [1.k] 并联, 每一组间无nonlinearity , 可视作对大kernel的正则， 在ablation study中outperform了直接[k,k]， 和堆叠的小卷积.</li>
</ul>

<h2 id="deeplab-v1--v2">DeepLab V1 &amp; V2</h2>
<p><img src="../assets/img/sseg_overview/aspp.png" alt="@aspp" /></p>
<h3 id="主要特点-6">主要特点</h3>
<ul>
  <li>V2 比起 V1 将backbone换成了resnet(+2%)</li>
  <li>V2 用ASPP作多尺度聚合 +0.8%</li>
  <li>最后一层使用更大的rate=12的带孔卷积证明有效 +0.6%</li>
  <li>DenseCRF：传统short-range CRF可以用来消除分割图中毛刺的部分， 但是在DCNN产生的分割图中，分割图本身已经比较光滑，因此我们更加希望CRF可以帮助回复局部的结构，而不是光滑分割图.</li>
</ul>

<h2 id="deeplab-v3">DeepLab V3</h2>
<p><img src="../assets/img/sseg_overview/deeplabv3_cas.png" alt="@cas" />
<img src="../assets/img/sseg_overview/deeplabv3_par.png" alt="@aspp" /></p>

<h3 id="主要特点-7">主要特点</h3>
<ul>
  <li>修改resnet block结构， 提出Multi-Grid, 在一个block中的三个conv采用不同的dilated rate</li>
  <li>include image-level feature(GAP) in ASPP[+0.6%], ASPP去掉rate=24(+0.12%)(作者认为rate=24时，valid filter太少), 加入[1,1] conv 作 channel reduction</li>
  <li>训练时用了所谓的【bootstraping】学习策略， 重复那些很少出现的类的训练 +2%</li>
</ul>

<h2 id="deeplab-v3-1">DeepLab V3+</h2>
<p><img src="../assets/img/sseg_overview/deeplabv4.png" alt="@aspp" /></p>

<h3 id="主要特点-8">主要特点</h3>
<ul>
  <li>将backbone网络由resnet 换成Xception， 将所有pooling层换成了depthwise convolution with striding.</li>
  <li>引入了一个Decoder结构，用x4 feature map作concat。【启发：使用更多layer 不同scale 的feature据作者报告没有带来性能提升】</li>
</ul>

      <div class="page-footer">
        <div class="page-share">
          <a href="https://twitter.com/intent/tweet?text=Semantic Segmentation Overview&url=http://localhost:4000/semantic-segmentation-overview/" title="Share on Twitter" rel="nofollow" target="_blank">Twitter</a>
          <a href="https://facebook.com/sharer.php?u=http://localhost:4000/semantic-segmentation-overview/" title="Share on Facebook" rel="nofollow" target="_blank">Facebook</a>
          <a href="https://plus.google.com/share?url=http://localhost:4000/semantic-segmentation-overview/" title="Share on Google+" rel="nofollow" target="_blank">Google+</a>
        </div>
        <div class="page-tag">
          
        </div>
      </div>
      <section class="comment-area">
  <div class="comment-wrapper">
    
    <div id="disqus_thread" class="article-comments"></div>
    <script>
      (function() {
          var d = document, s = d.createElement('script');
          s.src = '//yifengchen.disqus.com/embed.js';
          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    
  </div>
</section> <!-- End Comment Area -->

    </div> <!-- End Wrap Content -->
  </div> <!-- End Page Content -->
</article> <!-- End Article Page -->

</div>

  </div>
  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', '', 'auto');
  ga('send', 'pageview');
</script> <!-- End Analytics -->

  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: [
      "MathMenu.js",
      "MathZoom.js",
      "AssistiveMML.js",
      "a11y/accessibility-menu.js"
    ],
    jax: ["input/TeX", "output/CommonHTML"],
    TeX: {
      extensions: [
        "AMSmath.js",
        "AMSsymbols.js",
        "noErrors.js",
        "noUndefined.js",
      ]
    }
  });
  MathJax.Hub.Register.StartupHook("TeX Jax Ready",function () {
    var TEX = MathJax.InputJax.TeX;
    var COLS = function (W) {
      var WW = [];
      for (var i = 0, m = W.length; i < m; i++)
        {WW[i] = TEX.Parse.prototype.Em(W[i])}
      return WW.join(" ");
    };
    TEX.Definitions.Add({
      environment: {
        psmallmatrix: ['Array',null,'(',')','c',COLS([1/3]),".2em",'S',1],
      }
    });
  });
</script>
<script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js">
</script>
</body>
</html>
